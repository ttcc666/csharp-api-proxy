{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.Extensions.Http": "Warning",
        "System.Net.Http.HttpClient": "Warning",
        "OpenAI_Compatible_API_Proxy_for_Z.Middleware.PerformanceMonitoringMiddleware": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff} {Level:u3}] {SourceContext:l} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/app-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {SourceContext} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      {
        "Name": "WithProperty",
        "Args": {
          "name": "Application",
          "value": "OpenAI-Proxy-v2"
        }
      }
    ],
    "Properties": {
      "Application": "OpenAI Compatible API Proxy for Z.AI v2.0"
    }
  },
  "ProxySettings": {
    "UpstreamUrl": "https://chat.z.ai/api/chat/completions",
    "DefaultKey": "sk-001",
    "UpstreamToken": "eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjMxNmJjYjQ4LWZmMmYtNGExNS04NTNkLWYyYTI5YjY3ZmYwZiIsImVtYWlsIjoiR3Vlc3QtMTc1NTg0ODU4ODc4OEBndWVzdC5jb20ifQ.PktllDySS3trlyuFpTeIZf-7hl8Qu1qYF3BxjgIul0BrNux2nX9hVzIjthLXKMWAf9V0qM8Vm_iyDqkjPGsaiQ",
    "ModelName": "GLM-4.5",
    "ThinkTagsMode": "strip",
    "XFeVersion": "prod-fe-1.0.76",
    "BrowserUa": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
    "SecChUa": "\"Not;A=Brand\";v=\"99\", \"Microsoft Edge\";v=\"139\", \"Chromium\";v=\"139\"",
    "SecChUaMob": "?0",
    "SecChUaPlat": "\"Windows\"",
    "OriginBase": "https://chat.z.ai",
    "AnonTokenEnabled": true,
    "DebugMode": true,
    "RequestTimeoutSeconds": 120,
    "TokenCacheMinutes": 30
  },
  "IntentAnalysisSettings": {
    "EnableSmartDispatch": true,
    "UseAdvancedAnalyzer": true,
    "SearchThreshold": 2.0,
    "ThinkingThreshold": 2.5,
    "CombinedThreshold": 4.0,
    "CacheTimeoutMinutes": 5,
    "ContextDepth": 3,
    "CustomSearchKeywords": {
      "实况": 2.5,
      "直播": 2.0,
      "live": 2.5
    },
    "CustomThinkingKeywords": {
      "研究": 2.0,
      "探讨": 2.0,
      "research": 2.0
    },
    "ForceSearchPatterns": [
      "立即搜索.*",
      "urgent.*search"
    ],
    "ForceThinkingPatterns": [
      "深度分析.*",
      "detailed.*analysis"
    ],
    "DebugMode": true
  },
  "ToolSettings": {
    "DefaultEnabledTools": ["thinking", "search"],
    "ToolWeights": {
      "thinking": 1.0,
      "search": 1.2,
      "analysis": 1.0
    },
    "Search": {
      "DefaultSearchDepth": 5,
      "AutoSearchWeight": 1.0,
      "TimeSensitivityWeight": 1.5
    },
    "Thinking": {
      "DefaultThinkingDepth": "medium",
      "ComplexityThreshold": 0.7,
      "AnalysisWeight": 1.0
    }
  }
}
